<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />

    <title>Geoguessr tournament</title>
    <meta name="description" content="Geoguessr tournament" />
    <link rel="stylesheet"
          href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
          integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
          crossorigin="" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <style>
        body {
            background: #808080;
        }

        .map {
            height: 640px;
        }
    </style>
</head>

<body>
<script type="text/javascript" src="leaflet.js"></script>
    <div class="container-fluid" id="content"></div>
    <script>
        const games = [{"allGuesses":[[{"playerName":"Nightey","roundScoreInPoints":4653,"distanceInMeters":133280.7328542055,"lat":5.636982645455437,"lng":-74.36115550598798},{"playerName":"Radu C","roundScoreInPoints":3635,"distanceInMeters":590771.482431844,"lat":9.820087883417333,"lng":-75.11391559301042},{"playerName":"- \u2119\uD835\uDD60\uD835\uDD5D\uD835\uDD5A\uD835\uDD65\uD835\uDD5A\uD835\uDD69 -","roundScoreInPoints":3826,"distanceInMeters":495806.9062907929,"lat":8.954975400466916,"lng":-74.35606602755797},{"playerName":"Topotic ","roundScoreInPoints":3428,"distanceInMeters":699693.9799734261,"lat":10.773301084999156,"lng":-74.11015443031923},{"playerName":"AL Johns - Indianapolis","roundScoreInPoints":4350,"distanceInMeters":258172.4283151248,"lat":6.6985033409455506,"lng":-75.58803817782837},{"playerName":"Giovanni1798p","roundScoreInPoints":4928,"distanceInMeters":27028.320340646,"lat":4.655818017992124,"lng":-74.58948203721876},{"playerName":"Toris B","roundScoreInPoints":4718,"distanceInMeters":107495.3184127826,"lat":5.0832484681618055,"lng":-75.57580826527573},{"playerName":"Calzone","roundScoreInPoints":4631,"distanceInMeters":141945.7500119041,"lat":3.2413501046670006,"lng":-74.7389582665336},{"playerName":"Sverre","roundScoreInPoints":3877,"distanceInMeters":471397.3513792524,"lat":1.1801982990330129,"lng":-77.40829540544655},{"playerName":"slashP","roundScoreInPoints":4429,"distanceInMeters":224818.278186266,"lat":3.4189743905104044,"lng":-76.4914534760955},{"playerName":"Altingwouk","roundScoreInPoints":4541,"distanceInMeters":178586.2058001846,"lat":3.1188882558764397,"lng":-73.99723263591},{"playerName":"The Queen of the UK","roundScoreInPoints":4559,"distanceInMeters":171248.2663993026,"lat":2.9898182798293966,"lng":-74.9896391153114},{"playerName":"Kurt","roundScoreInPoints":1095,"distanceInMeters":2815092.1404119097,"lat":17.221254889335665,"lng":-97.14417645709256},{"playerName":"morqk","roundScoreInPoints":4407,"distanceInMeters":233992.8618303244,"lat":2.7993344087929697,"lng":-76.00794834501497},{"playerName":"Kuahs\uD835\uDE5E ","roundScoreInPoints":4055,"distanceInMeters":388335.6622048591,"lat":7.990597578487154,"lng":-75.15261227048468},{"playerName":"AxelBaxel","roundScoreInPoints":3853,"distanceInMeters":483093.868242729,"lat":8.694838370070388,"lng":-75.98950271029247},{"playerName":"Wilsonia","roundScoreInPoints":3535,"distanceInMeters":642580.4994190147,"lat":-0.026446522699853398,"lng":-78.3644465477836},{"playerName":":P","roundScoreInPoints":4837,"distanceInMeters":61330.3164699148,"lat":4.627593282393044,"lng":-75.33164540886978},{"playerName":"HugoAlvara2","roundScoreInPoints":4820,"distanceInMeters":68041.1498290008,"lat":5.055975914329911,"lng":-75.08013156641907},{"playerName":"sunkencity64","roundScoreInPoints":4796,"distanceInMeters":77341.0476132615,"lat":4.727695393400512,"lng":-74.12458928454436},{"playerName":"  \uD835\uDD64\uD835\uDD60\uD835\uDD66\uD835\uDD65\uD835\uDD59\uD835\uDD53\uD835\uDD6A\uD835\uDD56\uD835\uDFDB\uD835\uDFD8\uD835\uDFD8\uD835\uDFD8","roundScoreInPoints":3771,"distanceInMeters":522677.2396797147,"lat":9.192078906407003,"lng":-74.29822413688004},{"playerName":"Apple","roundScoreInPoints":4459,"distanceInMeters":212362.3088454289,"lat":6.259500524896035,"lng":-75.57459239792706},{"playerName":"The MAYO of \u0412\u043E\u0440\u043A\u0443\u0442\u0430\u0301","roundScoreInPoints":4077,"distanceInMeters":378445.430668294,"lat":7.920279984669348,"lng":-74.76912420398611},{"playerName":"Wester Wobbes","roundScoreInPoints":4746,"distanceInMeters":96479.9292343191,"lat":4.723959176875676,"lng":-73.94424148120032},{"playerName":"\uD83C\uDD76\uD83C\uDD81\uD83C\uDD7E\uD83C\uDD86\uD83C\uDD7B","roundScoreInPoints":3021,"distanceInMeters":934167.025749945,"lat":-2.16676655333619,"lng":-79.88356036180079},{"playerName":"Dcfmyr","roundScoreInPoints":4399,"distanceInMeters":237553.1252041214,"lat":6.640087612140694,"lng":-74.55151945561359},{"playerName":"Luxlad ","roundScoreInPoints":3509,"distanceInMeters":656297.0976498105,"lat":10.379206067435716,"lng":-75.48099139273826},{"playerName":"Geomane10K","roundScoreInPoints":1266,"distanceInMeters":2546340.603205877,"lat":17.357675876546285,"lng":-94.14987448101766},{"playerName":"busstop","roundScoreInPoints":4318,"distanceInMeters":271984.7427243883,"lat":6.913352242398469,"lng":-74.29718800983768},{"playerName":"Per-Kristian Helland","roundScoreInPoints":1,"distanceInMeters":16374366.407859907,"lat":-28.532485366996557,"lng":128.657521816932},{"playerName":"Intense","roundScoreInPoints":95,"distanceInMeters":7342185.896300653,"lat":-51.26196181306824,"lng":-116.2233332665336}],[{"playerName":"Nightey","roundScoreInPoints":4958,"distanceInMeters":15673.6539753032,"lat":5.979991185027305,"lng":100.524422703992},{"playerName":"Radu C","roundScoreInPoints":4992,"distanceInMeters":2877.194827127,"lat":5.84995932631357,"lng":100.48420158537024},{"playerName":"- \u2119\uD835\uDD60\uD835\uDD5D\uD835\uDD5A\uD835\uDD65\uD835\uDD5A\uD835\uDD69 -","roundScoreInPoints":4837,"distanceInMeters":61401.7727327484,"lat":5.3898163603929055,"lng":100.75752148671643},{"playerName":"Topotic ","roundScoreInPoints":4383,"distanceInMeters":244199.0926609408,"lat":3.748853923845988,"lng":101.08280141807228},{"playerName":"AL Johns - Indianapolis","roundScoreInPoints":3915,"distanceInMeters":453383.5793235044,"lat":2.439481354852078,"lng":102.69166520142112},{"playerName":"Giovanni1798p","roundScoreInPoints":4965,"distanceInMeters":13006.5963981065,"lat":5.971229822577236,"lng":100.44458892548225},{"playerName":"Toris B","roundScoreInPoints":4831,"distanceInMeters":63709.361571591,"lat":5.298370604796168,"lng":100.59470869550933},{"playerName":"Calzone","roundScoreInPoints":4058,"distanceInMeters":386811.3096436537,"lat":3.2400719520858283,"lng":102.76023916927005},{"playerName":"Sverre","roundScoreInPoints":4909,"distanceInMeters":33993.9983561552,"lat":5.660967523651076,"lng":100.69607002874136},{"playerName":"slashP","roundScoreInPoints":4052,"distanceInMeters":389848.7879742565,"lat":2.958168952830599,"lng":102.43956107802916},{"playerName":"Altingwouk","roundScoreInPoints":4814,"distanceInMeters":70217.6287729235,"lat":6.4384666395123205,"lng":100.21552769486425},{"playerName":"The Queen of the UK","roundScoreInPoints":3980,"distanceInMeters":422695.6760826457,"lat":2.7218498596722696,"lng":102.61753932429679},{"playerName":"Kurt","roundScoreInPoints":4063,"distanceInMeters":384789.138312008,"lat":3.1316477564860707,"lng":102.60039521757642},{"playerName":"morqk","roundScoreInPoints":3761,"distanceInMeters":527611.743510256,"lat":1.9433597272625607,"lng":103.15109659382534},{"playerName":"Kuahs\uD835\uDE5E ","roundScoreInPoints":4220,"distanceInMeters":314513.9794928027,"lat":3.7580015784473444,"lng":102.36354972201924},{"playerName":"AxelBaxel","roundScoreInPoints":4161,"distanceInMeters":340311.7022496264,"lat":4.807445562910132,"lng":103.34684321212035},{"playerName":"Wilsonia","roundScoreInPoints":3951,"distanceInMeters":436353.2954077437,"lat":2.55489167823505,"lng":102.58796735428882},{"playerName":":P","roundScoreInPoints":4950,"distanceInMeters":18610.2010573853,"lat":6.021632054785522,"lng":100.44188660401382},{"playerName":"HugoAlvara2","roundScoreInPoints":4936,"distanceInMeters":23821.4984028596,"lat":6.06921533649026,"lng":100.45145227497198},{"playerName":"sunkencity64","roundScoreInPoints":4339,"distanceInMeters":262825.9578859202,"lat":3.9875796641183925,"lng":101.91299672534518},{"playerName":"  \uD835\uDD64\uD835\uDD60\uD835\uDD66\uD835\uDD65\uD835\uDD59\uD835\uDD53\uD835\uDD6A\uD835\uDD56\uD835\uDFDB\uD835\uDFD8\uD835\uDFD8\uD835\uDFD8","roundScoreInPoints":4956,"distanceInMeters":16209.9016746414,"lat":6.000880165981447,"lng":100.45980860902091},{"playerName":"Apple","roundScoreInPoints":4178,"distanceInMeters":332937.8114904675,"lat":3.12973698272226,"lng":101.70260780121566},{"playerName":"The MAYO of \u0412\u043E\u0440\u043A\u0443\u0442\u0430\u0301","roundScoreInPoints":4202,"distanceInMeters":322175.2086004484,"lat":3.475247870020095,"lng":102.11694645086695},{"playerName":"Wester Wobbes","roundScoreInPoints":4220,"distanceInMeters":314333.0216780764,"lat":3.287335641419341,"lng":101.64483828861846},{"playerName":"\uD83C\uDD76\uD83C\uDD81\uD83C\uDD7E\uD83C\uDD86\uD83C\uDD7B","roundScoreInPoints":4959,"distanceInMeters":15085.1119992577,"lat":5.730489275670391,"lng":100.51260948823881},{"playerName":"Dcfmyr","roundScoreInPoints":2595,"distanceInMeters":1215513.6804201049,"lat":-4.141420121860486,"lng":104.88801034001206},{"playerName":"Luxlad ","roundScoreInPoints":4177,"distanceInMeters":333458.6148492386,"lat":3.5395476270414057,"lng":102.37088569248476},{"playerName":"Geomane10K","roundScoreInPoints":4038,"distanceInMeters":396119.1590118126,"lat":2.651903869444283,"lng":102.0220977208736},{"playerName":"busstop","roundScoreInPoints":2695,"distanceInMeters":1145413.8697698433,"lat":1.615396615626716,"lng":109.86891573624773},{"playerName":"Per-Kristian Helland","roundScoreInPoints":603,"distanceInMeters":3921695.8041661703,"lat":-24.122765620464087,"lng":119.51689681693199},{"playerName":"Intense","roundScoreInPoints":25,"distanceInMeters":9846800.728072101,"lat":-69.70289408062013,"lng":169.9485417334664}],[{"playerName":"Nightey","roundScoreInPoints":4807,"distanceInMeters":73013.6332002649,"lat":40.50505190677522,"lng":-86.64981249124074},{"playerName":"Radu C","roundScoreInPoints":4903,"distanceInMeters":36128.3274188747,"lat":41.39463924038031,"lng":-86.63013323065337},{"playerName":"- \u2119\uD835\uDD60\uD835\uDD5D\uD835\uDD5A\uD835\uDD65\uD835\uDD5A\uD835\uDD69 -","roundScoreInPoints":4566,"distanceInMeters":168342.7427804166,"lat":39.7455885198318,"lng":-86.1034163699486},{"playerName":"Topotic ","roundScoreInPoints":4926,"distanceInMeters":27733.5204272964,"lat":40.88638641297911,"lng":-86.8839071693651},{"playerName":"AL Johns - Indianapolis","roundScoreInPoints":4363,"distanceInMeters":252506.4785116677,"lat":39.20485261677709,"lng":-85.32695814577501},{"playerName":"Giovanni1798p","roundScoreInPoints":4752,"distanceInMeters":94352.3376753228,"lat":40.377761218968196,"lng":-86.38775952154157},{"playerName":"Toris B","roundScoreInPoints":4744,"distanceInMeters":97242.9711730523,"lat":41.07821311014167,"lng":-85.7331561528469},{"playerName":"Calzone","roundScoreInPoints":4867,"distanceInMeters":49879.0845039761,"lat":40.709025425696225,"lng":-86.70822358496123},{"playerName":"Sverre","roundScoreInPoints":4774,"distanceInMeters":85678.8811891218,"lat":40.39965179465963,"lng":-86.59051160850015},{"playerName":"slashP","roundScoreInPoints":4742,"distanceInMeters":98072.6857260135,"lat":40.29569160944608,"lng":-86.53671275879611},{"playerName":"Altingwouk","roundScoreInPoints":4385,"distanceInMeters":243078.30564997,"lat":39.275052878785985,"lng":-85.38862384685461},{"playerName":"The Queen of the UK","roundScoreInPoints":4710,"distanceInMeters":110841.6624842658,"lat":40.219803667887554,"lng":-86.37261695759037},{"playerName":"Kurt","roundScoreInPoints":5000,"distanceInMeters":29.1497321739,"lat":41.135952974672946,"lng":-86.89149516419525},{"playerName":"morqk","roundScoreInPoints":4615,"distanceInMeters":148455.9223470073,"lat":40.77596632672633,"lng":-85.18881995603249},{"playerName":"Kuahs\uD835\uDE5E ","roundScoreInPoints":4718,"distanceInMeters":107655.113718931,"lat":40.247845065311516,"lng":-86.38220517950778},{"playerName":"AxelBaxel","roundScoreInPoints":4872,"distanceInMeters":47997.0087267918,"lat":40.716342600008055,"lng":-86.75614428787173},{"playerName":"Wilsonia","roundScoreInPoints":4530,"distanceInMeters":182900.5598225159,"lat":39.50062647060405,"lng":-86.65669309579505},{"playerName":":P","roundScoreInPoints":4284,"distanceInMeters":286300.7960076714,"lat":38.83496681262253,"lng":-85.38250028454897},{"playerName":"HugoAlvara2","roundScoreInPoints":4629,"distanceInMeters":142788.6117552282,"lat":40.15068536124687,"lng":-85.80554711079625},{"playerName":"sunkencity64","roundScoreInPoints":4646,"distanceInMeters":136129.1920898722,"lat":40.13091435846566,"lng":-85.96971308254479},{"playerName":"  \uD835\uDD64\uD835\uDD60\uD835\uDD66\uD835\uDD65\uD835\uDD59\uD835\uDD53\uD835\uDD6A\uD835\uDD56\uD835\uDFDB\uD835\uDFD8\uD835\uDFD8\uD835\uDFD8","roundScoreInPoints":4864,"distanceInMeters":51260.4147218336,"lat":40.68784564888503,"lng":-86.74688549689398},{"playerName":"Apple","roundScoreInPoints":4353,"distanceInMeters":256740.551912717,"lat":39.17013932246885,"lng":-85.30607357940676},{"playerName":"The MAYO of \u0412\u043E\u0440\u043A\u0443\u0442\u0430\u0301","roundScoreInPoints":4950,"distanceInMeters":18560.0642392361,"lat":41.30265228455538,"lng":-86.89130108808212},{"playerName":"Wester Wobbes","roundScoreInPoints":4315,"distanceInMeters":272995.8042849807,"lat":39.00755299094192,"lng":-85.29137209468331},{"playerName":"\uD83C\uDD76\uD83C\uDD81\uD83C\uDD7E\uD83C\uDD86\uD83C\uDD7B","roundScoreInPoints":4768,"distanceInMeters":87928.7376469632,"lat":40.380495682490604,"lng":-86.5819207607704},{"playerName":"Dcfmyr","roundScoreInPoints":4417,"distanceInMeters":229729.9672980676,"lat":39.83325330332752,"lng":-84.78254990820568},{"playerName":"Luxlad ","roundScoreInPoints":3509,"distanceInMeters":656395.2860521958,"lat":38.23897970854349,"lng":-93.57887046436832},{"playerName":"Geomane10K","roundScoreInPoints":2902,"distanceInMeters":1008350.2259055732,"lat":39.3594792086868,"lng":-98.55207229029463},{"playerName":"busstop","roundScoreInPoints":2684,"distanceInMeters":1152953.5300355018,"lat":31.036071178855405,"lng":-89.80531628783326},{"playerName":"Per-Kristian Helland","roundScoreInPoints":45,"distanceInMeters":8710671.923315074,"lat":-33.35445906129493,"lng":-113.21747818306802},{"playerName":"Intense","roundScoreInPoints":3,"distanceInMeters":13760514.405637685,"lat":-78.6458133575462,"lng":-33.96243037818242}],[{"playerName":"Nightey","roundScoreInPoints":4765,"distanceInMeters":89365.1166703107,"lat":43.38717512286167,"lng":12.17530246493788},{"playerName":"Radu C","roundScoreInPoints":4921,"distanceInMeters":29485.8828566233,"lat":42.74901428754355,"lng":12.495641126343497},{"playerName":"- \u2119\uD835\uDD60\uD835\uDD5D\uD835\uDD5A\uD835\uDD65\uD835\uDD5A\uD835\uDD69 -","roundScoreInPoints":4660,"distanceInMeters":130632.8980577292,"lat":43.22899311144487,"lng":11.386285503064073},{"playerName":"Topotic ","roundScoreInPoints":4626,"distanceInMeters":144048.7598063377,"lat":43.033048274873366,"lng":11.129177327140724},{"playerName":"AL Johns - Indianapolis","roundScoreInPoints":4949,"distanceInMeters":19080.3284981998,"lat":42.846116924547545,"lng":13.055786286593989},{"playerName":"Giovanni1798p","roundScoreInPoints":4393,"distanceInMeters":239812.3577220979,"lat":44.31710564499353,"lng":10.803487993242923},{"playerName":"Toris B","roundScoreInPoints":4063,"distanceInMeters":384659.1443512126,"lat":45.60370443190505,"lng":10.116453411377961},{"playerName":"Calzone","roundScoreInPoints":4042,"distanceInMeters":394364.782957381,"lat":46.30275744990382,"lng":12.861613100634584},{"playerName":"Sverre","roundScoreInPoints":4754,"distanceInMeters":93484.7260869915,"lat":43.344290287680785,"lng":12.034508721259613},{"playerName":"slashP","roundScoreInPoints":4042,"distanceInMeters":394010.8522604014,"lat":46.02324063817074,"lng":10.935828063877636},{"playerName":"Altingwouk","roundScoreInPoints":3847,"distanceInMeters":485996.827326821,"lat":43.34889006486132,"lng":18.783965588503918},{"playerName":"The Queen of the UK","roundScoreInPoints":4067,"distanceInMeters":382675.8757869784,"lat":45.89900696440355,"lng":10.895436439045016},{"playerName":"Kurt","roundScoreInPoints":4751,"distanceInMeters":94799.8271119671,"lat":43.414262926534185,"lng":12.114529638695217},{"playerName":"morqk","roundScoreInPoints":4552,"distanceInMeters":173825.2295657059,"lat":44.043580982177055,"lng":11.636126244140428},{"playerName":"Kuahs\uD835\uDE5E ","roundScoreInPoints":4005,"distanceInMeters":411153.3172480084,"lat":46.17591149414985,"lng":10.88505145867317},{"playerName":"AxelBaxel","roundScoreInPoints":4663,"distanceInMeters":129207.4917703981,"lat":41.781483343795784,"lng":13.71161165978964},{"playerName":"Wilsonia","roundScoreInPoints":4352,"distanceInMeters":257482.0478644646,"lat":44.544008060993676,"lng":10.822505385444607},{"playerName":":P","roundScoreInPoints":4115,"distanceInMeters":361246.0572074052,"lat":45.89115426500029,"lng":11.664855503025775},{"playerName":"HugoAlvara2","roundScoreInPoints":4063,"distanceInMeters":384530.6807286244,"lat":45.48016556141043,"lng":9.887866159970251},{"playerName":"sunkencity64","roundScoreInPoints":4118,"distanceInMeters":359540.5200880234,"lat":45.42094928960923,"lng":15.40732112812617},{"playerName":"  \uD835\uDD64\uD835\uDD60\uD835\uDD66\uD835\uDD65\uD835\uDD59\uD835\uDD53\uD835\uDD6A\uD835\uDD56\uD835\uDFDB\uD835\uDFD8\uD835\uDFD8\uD835\uDFD8","roundScoreInPoints":4053,"distanceInMeters":389262.9443151712,"lat":46.17350541395855,"lng":11.791876406307097},{"playerName":"Apple","roundScoreInPoints":4512,"distanceInMeters":190429.3879901636,"lat":44.017250408283736,"lng":11.262132283956817},{"playerName":"The MAYO of \u0412\u043E\u0440\u043A\u0443\u0442\u0430\u0301","roundScoreInPoints":4120,"distanceInMeters":358638.7283395077,"lat":45.39644085977392,"lng":10.277149812553063},{"playerName":"Wester Wobbes","roundScoreInPoints":3862,"distanceInMeters":478833.6606564809,"lat":46.325275916461216,"lng":9.473849864590331},{"playerName":"\uD83C\uDD76\uD83C\uDD81\uD83C\uDD7E\uD83C\uDD86\uD83C\uDD7B","roundScoreInPoints":3889,"distanceInMeters":465743.5663903927,"lat":46.18045137983391,"lng":9.474505958325835},{"playerName":"Dcfmyr","roundScoreInPoints":4026,"distanceInMeters":401589.0146765663,"lat":46.057653674385854,"lng":10.806046974265598},{"playerName":"Luxlad ","roundScoreInPoints":4031,"distanceInMeters":399500.2341765779,"lat":45.72364817101634,"lng":10.028233055122229},{"playerName":"Geomane10K","roundScoreInPoints":4069,"distanceInMeters":381893.8124323198,"lat":45.65407581892176,"lng":10.284179738550506},{"playerName":"busstop","roundScoreInPoints":3947,"distanceInMeters":438235.6989481217,"lat":45.96888630520833,"lng":9.66183476186849},{"playerName":"Per-Kristian Helland","roundScoreInPoints":292,"distanceInMeters":5265151.145333908,"lat":-4.4735565888249464,"lng":9.12627181693199},{"playerName":"Intense","roundScoreInPoints":1,"distanceInMeters":15870080.456683274,"lat":-79.71077243439714,"lng":179.7922917334664}],[{"playerName":"Nightey","roundScoreInPoints":4519,"distanceInMeters":187553.6152963838,"lat":-52.60734324846582,"lng":-70.71161374312695},{"playerName":"Radu C","roundScoreInPoints":4866,"distanceInMeters":50329.4703836283,"lat":-51.68008587320365,"lng":-72.08927985363017},{"playerName":"- \u2119\uD835\uDD60\uD835\uDD5D\uD835\uDD5A\uD835\uDD65\uD835\uDD5A\uD835\uDD69 -","roundScoreInPoints":4872,"distanceInMeters":48090.7193957816,"lat":-51.69062041850122,"lng":-72.39459704456134},{"playerName":"Topotic ","roundScoreInPoints":4726,"distanceInMeters":104634.4890256731,"lat":-52.05188677525726,"lng":-71.53860447790582},{"playerName":"AL Johns - Indianapolis","roundScoreInPoints":4167,"distanceInMeters":337611.3788425696,"lat":-53.31861868122484,"lng":-68.70673865767273},{"playerName":"Giovanni1798p","roundScoreInPoints":1968,"distanceInMeters":1728684.8386315193,"lat":-35.736156399965694,"lng":-71.15690025496386},{"playerName":"Toris B","roundScoreInPoints":2634,"distanceInMeters":1188232.0852913863,"lat":-40.57847798266382,"lng":-72.85866887532734},{"playerName":"Calzone","roundScoreInPoints":3286,"distanceInMeters":777883.8890294607,"lat":-44.28302357285939,"lng":-71.56885815894266},{"playerName":"Sverre","roundScoreInPoints":2303,"distanceInMeters":1437002.3705417872,"lat":-38.3355891815689,"lng":-72.39503477996988},{"playerName":"slashP","roundScoreInPoints":3009,"distanceInMeters":941225.089537188,"lat":-43.47020020096748,"lng":-67.44324871383736},{"playerName":"Altingwouk","roundScoreInPoints":2389,"distanceInMeters":1368810.6942930294,"lat":-39.32383468679077,"lng":-68.03646280846073},{"playerName":"The Queen of the UK","roundScoreInPoints":2325,"distanceInMeters":1419625.1867414443,"lat":-38.49419559744549,"lng":-72.0057640436209},{"playerName":"Kurt","roundScoreInPoints":4675,"distanceInMeters":124736.8347105093,"lat":-52.30511223312129,"lng":-71.70102377326083},{"playerName":"morqk","roundScoreInPoints":2160,"distanceInMeters":1556087.6464183724,"lat":-37.265265857464435,"lng":-72.16244761775594},{"playerName":"Kuahs\uD835\uDE5E ","roundScoreInPoints":2328,"distanceInMeters":1416809.4723936014,"lat":-38.68433113135289,"lng":-69.42332155054697},{"playerName":"AxelBaxel","roundScoreInPoints":1581,"distanceInMeters":2134415.8825626783,"lat":-32.86112732430204,"lng":-64.86514432661744},{"playerName":"Wilsonia","roundScoreInPoints":2629,"distanceInMeters":1191460.4999787647,"lat":-40.549708120150996,"lng":-72.87082653847469},{"playerName":":P","roundScoreInPoints":519,"distanceInMeters":4200384.201491555,"lat":-13.485411589125082,"lng":-72.77692769637538},{"playerName":"HugoAlvara2","roundScoreInPoints":72,"distanceInMeters":7849016.211209707,"lat":-43.30356649818476,"lng":171.22999021958583},{"playerName":"sunkencity64","roundScoreInPoints":605,"distanceInMeters":3915474.2673293273,"lat":-16.05011297729582,"lng":-71.69318604930993},{"playerName":"  \uD835\uDD64\uD835\uDD60\uD835\uDD66\uD835\uDD65\uD835\uDD59\uD835\uDD53\uD835\uDD6A\uD835\uDD56\uD835\uDFDB\uD835\uDFD8\uD835\uDFD8\uD835\uDFD8","roundScoreInPoints":625,"distanceInMeters":3854211.164196736,"lat":-16.840452710685163,"lng":-67.2153039289509},{"playerName":"Apple","roundScoreInPoints":636,"distanceInMeters":3820880.270465009,"lat":-17.10357920244996,"lng":-67.63170415030504},{"playerName":"The MAYO of \u0412\u043E\u0440\u043A\u0443\u0442\u0430\u0301","roundScoreInPoints":686,"distanceInMeters":3680986.947187101,"lat":-18.25015352167023,"lng":-69.18990884479372},{"playerName":"Wester Wobbes","roundScoreInPoints":21,"distanceInMeters":10111095.332028238,"lat":-30.280827717053278,"lng":148.37134010908412},{"playerName":"\uD83C\uDD76\uD83C\uDD81\uD83C\uDD7E\uD83C\uDD86\uD83C\uDD7B","roundScoreInPoints":2,"distanceInMeters":14888708.879182445,"lat":40.42536104010316,"lng":40.83359405652078},{"playerName":"Dcfmyr","roundScoreInPoints":3,"distanceInMeters":13606634.979602426,"lat":64.17970738189533,"lng":-20.076791815098037},{"playerName":"Luxlad ","roundScoreInPoints":54,"distanceInMeters":8380861.994578616,"lat":-28.13987855742612,"lng":29.705000563851044},{"playerName":"Geomane10K","roundScoreInPoints":1839,"distanceInMeters":1854212.3754855983,"lat":-34.59920557839299,"lng":-71.35399053618767},{"playerName":"busstop","roundScoreInPoints":2,"distanceInMeters":15028884.594077846,"lat":49.02682693725448,"lng":34.671631438686255},{"playerName":"Per-Kristian Helland","roundScoreInPoints":6,"distanceInMeters":12601019.4717459,"lat":-14.175004454101265,"lng":122.32939681693199},{"playerName":"Intense","roundScoreInPoints":751,"distanceInMeters":3514926.071706331,"lat":-82.27784880831683,"lng":-51.77708217764182}]],"playerGames":[{"player":"Nightey","points":23702,"r1":4653,"r2":4958,"r3":4807,"r4":4765,"r5":4519},{"player":"Radu C","points":23317,"r1":3635,"r2":4992,"r3":4903,"r4":4921,"r5":4866},{"player":"- \u2119\uD835\uDD60\uD835\uDD5D\uD835\uDD5A\uD835\uDD65\uD835\uDD5A\uD835\uDD69 -","points":22761,"r1":3826,"r2":4837,"r3":4566,"r4":4660,"r5":4872},{"player":"Topotic ","points":22089,"r1":3428,"r2":4383,"r3":4926,"r4":4626,"r5":4726},{"player":"AL Johns - Indianapolis","points":21744,"r1":4350,"r2":3915,"r3":4363,"r4":4949,"r5":4167},{"player":"Giovanni1798p","points":21006,"r1":4928,"r2":4965,"r3":4752,"r4":4393,"r5":1968},{"player":"Toris B","points":20990,"r1":4718,"r2":4831,"r3":4744,"r4":4063,"r5":2634},{"player":"Calzone","points":20884,"r1":4631,"r2":4058,"r3":4867,"r4":4042,"r5":3286},{"player":"Sverre","points":20617,"r1":3877,"r2":4909,"r3":4774,"r4":4754,"r5":2303},{"player":"slashP","points":20274,"r1":4429,"r2":4052,"r3":4742,"r4":4042,"r5":3009},{"player":"Altingwouk","points":19976,"r1":4541,"r2":4814,"r3":4385,"r4":3847,"r5":2389},{"player":"The Queen of the UK","points":19641,"r1":4559,"r2":3980,"r3":4710,"r4":4067,"r5":2325},{"player":"Kurt","points":19584,"r1":1095,"r2":4063,"r3":5000,"r4":4751,"r5":4675},{"player":"morqk","points":19495,"r1":4407,"r2":3761,"r3":4615,"r4":4552,"r5":2160},{"player":"Kuahs\uD835\uDE5E ","points":19326,"r1":4055,"r2":4220,"r3":4718,"r4":4005,"r5":2328},{"player":"AxelBaxel","points":19130,"r1":3853,"r2":4161,"r3":4872,"r4":4663,"r5":1581},{"player":"Wilsonia","points":18997,"r1":3535,"r2":3951,"r3":4530,"r4":4352,"r5":2629},{"player":":P","points":18705,"r1":4837,"r2":4950,"r3":4284,"r4":4115,"r5":519},{"player":"HugoAlvara2","points":18520,"r1":4820,"r2":4936,"r3":4629,"r4":4063,"r5":72},{"player":"sunkencity64","points":18504,"r1":4796,"r2":4339,"r3":4646,"r4":4118,"r5":605},{"player":"  \uD835\uDD64\uD835\uDD60\uD835\uDD66\uD835\uDD65\uD835\uDD59\uD835\uDD53\uD835\uDD6A\uD835\uDD56\uD835\uDFDB\uD835\uDFD8\uD835\uDFD8\uD835\uDFD8","points":18269,"r1":3771,"r2":4956,"r3":4864,"r4":4053,"r5":625},{"player":"Apple","points":18138,"r1":4459,"r2":4178,"r3":4353,"r4":4512,"r5":636},{"player":"The MAYO of \u0412\u043E\u0440\u043A\u0443\u0442\u0430\u0301","points":18035,"r1":4077,"r2":4202,"r3":4950,"r4":4120,"r5":686},{"player":"Wester Wobbes","points":17164,"r1":4746,"r2":4220,"r3":4315,"r4":3862,"r5":21},{"player":"\uD83C\uDD76\uD83C\uDD81\uD83C\uDD7E\uD83C\uDD86\uD83C\uDD7B","points":16639,"r1":3021,"r2":4959,"r3":4768,"r4":3889,"r5":2},{"player":"Dcfmyr","points":15440,"r1":4399,"r2":2595,"r3":4417,"r4":4026,"r5":3},{"player":"Luxlad ","points":15280,"r1":3509,"r2":4177,"r3":3509,"r4":4031,"r5":54},{"player":"Geomane10K","points":14114,"r1":1266,"r2":4038,"r3":2902,"r4":4069,"r5":1839},{"player":"busstop","points":13646,"r1":4318,"r2":2695,"r3":2684,"r4":3947,"r5":2},{"player":"Per-Kristian Helland","points":947,"r1":1,"r2":603,"r3":45,"r4":292,"r5":6},{"player":"Intense","points":875,"r1":95,"r2":25,"r3":3,"r4":1,"r5":751}],"answers":[{"lat":4.516899226151436,"lng":-74.78958544622071},{"lat":5.855105111127449,"lng":100.4587103112235},{"lat":41.13573761681224,"lng":-86.89129669492446},{"lat":42.75615152185166,"lng":12.856637954395637},{"lat":-51.25883138936777,"lng":-72.35507277480463}],"mapName":"A Diverse World","gameNumber":1,"gameUrl":"https://www.geoguessr.com/results/4AIgheuBiawHesVD"}];
        let maps = [];
        const viewRound = (gameNumber, roundNumber) => {
            let guesses = games[gameNumber - 1].allGuesses[roundNumber];
            guesses.sort((a, b) => b.roundScoreInPoints - a.roundScoreInPoints);
            [0, 1, 2, 3, 4].forEach(x => {
                document.getElementById(`mapid-game-${gameNumber}-round-${x}`).style.display = x === roundNumber ? "" : "none";
                var roundTable = document.getElementById(`table-round-game-${gameNumber}`);
                roundTable.innerHTML = createRoundTable(guesses, roundNumber);
                roundTable.style.display = "";
            });
            const answer = games[gameNumber - 1].answers[roundNumber];
            const createIcon = (iconColor) =>
                new L.Icon({
                    iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-${iconColor}.png`,
                    shadowUrl:
                        "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
                    iconSize: [11, 20],
                    iconAnchor: [6, 20],
                    popupAnchor: [1, -34],
                    shadowSize: [0, 0],
                });
            const icons = ["gold", "grey", "orange", "blue"].map(createIcon);
            if (maps[`${gameNumber}-${roundNumber}`]) {
                return;
            }

            const map = L.map(`mapid-game-${gameNumber}-round-${roundNumber}`).setView([51.505, -0.09], 2);
            L.tileLayer(
                "https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",
                {
                    attribution:
                        'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                    maxZoom: 18,
                    id: "mapbox/streets-v11",
                    tileSize: 512,
                    zoomOffset: -1,
                    accessToken:
                        "pk.eyJ1Ijoic2xhc2hwIiwiYSI6ImNrajc2ejVuMzZna2QydnFqNjg2eGx0cDcifQ.0YrOWeCFuS0URH6E1t3qJg",
                }
            ).addTo(map);
            guesses.forEach((guess, index) =>
                L.marker([guess.lat, guess.lng],
                    {
                        zIndexOffset: guesses.length - index,
                        icon: icons.slice(index)[0] || [...icons].pop(),
                    })
                    .bindPopup(
                        `<b>${guess.playerName}</b><br>${guess.roundScoreInPoints}`
                    )
                    .addTo(map)
            );
            L.marker([answer.lat, answer.lng],
                {
                    zIndexOffset: guesses.length + 100,
                    icon: createIcon("green"),
                })
                .bindPopup("<b>Actual location</b>")
                .addTo(map);
            maps[`${gameNumber}-${roundNumber}`] = map;
        };

        const createRoundRow = player => `
<tr>
    <td>${player.playerName}</td>
    <td class="text-right">${player.roundScoreInPoints}</td>
    <td class="text-right">${Math.round(player.distanceInMeters * 100) / 100}</td>
</tr>
`;
        const createRoundTable = (players, index) => `
<tr>
    <th>Player</th>
    <th class="text-right">Points in round ${index + 1}</th>
    <th class="text-right">Distance</th>
</tr>
${players.map(createRoundRow).join('')}
`;
        const createGameRow = playerGame => `
<tr>
    <td>${playerGame.player}</td>
    <td class="text-right">${playerGame.points}</td>
    <td class="text-right">${playerGame.r1}</td>
    <td class="text-right">${playerGame.r2}</td>
    <td class="text-right">${playerGame.r3}</td>
    <td class="text-right">${playerGame.r4}</td>
    <td class="text-right">${playerGame.r5}</td>
</tr>
`;

        const createGameTable = game => `
<table class="table table-dark table-sm">
    <tr>
        <th>Player</th>
        <th class="text-right">Points</th>
        <th class="text-right cursor-pointer" onclick="viewRound(${game.gameNumber}, 0)">R1</th>
        <th class="text-right cursor-pointer" onclick="viewRound(${game.gameNumber}, 1)">R2</th>
        <th class="text-right cursor-pointer" onclick="viewRound(${game.gameNumber}, 2)">R3</th>
        <th class="text-right cursor-pointer" onclick="viewRound(${game.gameNumber}, 3)">R4</th>
        <th class="text-right cursor-pointer" onclick="viewRound(${game.gameNumber}, 4)">R5</th>
    </tr>
${game.playerGames.map(createGameRow).join('')}
</table>
`;

        const createGame = game => `
<div class="row">
    <h4 class="col-5">Game ${game.gameNumber} - <a href="${game.gameUrl}" target="_blank" rel="noreferrer noopener">${game.mapName}</a></h4>
</div>
<div class="row">
    <div class="col-5">
        ${createGameTable(game)}
    </div>
    <div class="row col-7">
        <div class="map col-12" id="mapid-game-${game.gameNumber}-round-0" style="display: none;"></div>
        <div class="map col-12" id="mapid-game-${game.gameNumber}-round-1" style="display: none;"></div>
        <div class="map col-12" id="mapid-game-${game.gameNumber}-round-2" style="display: none;"></div>
        <div class="map col-12" id="mapid-game-${game.gameNumber}-round-3" style="display: none;"></div>
        <div class="map col-12" id="mapid-game-${game.gameNumber}-round-4" style="display: none;"></div>
        <table class="table table-dark table-sm col-6" id="table-round-game-${game.gameNumber}"></table>
    </div>
</div>
`;
        const content = document.getElementById("content");
        content.innerHTML = games.map(createGame).join('');
    </script>
</body>
</html>